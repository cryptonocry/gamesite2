const t="https://x8ki-letl-twmt.n7.xano.io/api:7fuLzq6k",e=`${t}/gamerecords_get`,r=`${t}/start`,o=`${t}/gamerecords_post`;export async function fetchAllParticipantsFromXano(){try{const t=await fetch(e);return await t.json()}catch(t){return console.error("Error fetching data from Xano:",t),[]}}export async function startSession(t){try{const e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:t||null})});if(!e.ok)throw new Error("start failed");const o=await e.json();return{sessionId:o.id,token:o.token,createdAt:o.created_at,issuedAt:o.issued_at,used:o.used,wallet:o.wallet,ip:o.ip}}catch(t){return console.error("startSession error:",t),null}}export async function submitScore(t,e,r){try{const n=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t?.token,wallet:r||null,score:e})});let a;try{a=await n.json()}catch{a=await n.text()}return n.ok?a:(console.error("submitScore failed:",a),null)}catch(t){return console.error("submitScore error:",t),null}}