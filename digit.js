export class Icon{static shakeFactor=1;constructor(e,s,t,o){this.gx=e,this.gy=s,this.type=t,this.spawnTime=o,this.phaseOffset=Math.random()*Math.PI*2;this.baseAmplitude=4.5,this.baseSpeed=.6,Icon.images||Icon._loadImages()}static _loadImages(){Icon.images={},["mask","letterS","cd","xicon","clock","key","ethicon","btcicon","eye","lock","scroll","dna","flask","per0","per20","per40","per60","per80","per100","perplus"].forEach(e=>{const s=new Image;s.src=`icons/${e}.svg`,Icon.images[e]=s})}screenPosition(e,s,t){const o=80*this.gx+e,a=80*this.gy+s,i=(t-this.spawnTime)/1e3,c=this.baseAmplitude*Icon.shakeFactor;return{x:o+c*Math.cos(this.baseSpeed*i+this.phaseOffset),y:a+c*Math.sin(this.baseSpeed*i+this.phaseOffset)}}draw(e,s,t,o,a=1){const i=this.screenPosition(s,t,o),c=Icon.images[this.type];if(!c||!c.complete)return;const r=30;e.save(),e.globalAlpha=a,e.drawImage(c,i.x-15,i.y-15,r,r),e.globalCompositeOperation="source-atop",e.fillStyle="#FFFFFF",e.fillRect(i.x-15,i.y-15,r,r),e.globalCompositeOperation="source-over",e.restore()}}